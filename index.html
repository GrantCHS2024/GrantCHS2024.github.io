<!DOCTYPE HTML>
 <html> 
   <head>
    <title>Grant's Coding Site</title>
    <link rel="stylesheet" href="style.css">
   </head>
   <body>
     <div id="all-contents">
       <nav>
        <h1>
          Grant's Coding Site
        </h1>
        <ul id="nav-ul">
          <li class="nav-li">
            <a href="index.html"> Home </a>
          </li>
          <li class="nav-li">
            <a href="portfolio.html"> Portfolio </a>
          </li>
          <li class="nav-li">
            <a href="Images.html"> Images </a>
          </li>
        </ul>
       </nav>
       <main style="background: rgb(204, 204, 204);">
        <!-- Sidebar Section -->
         <div class="sidebar">
          <img class="sidebar-img" draggable="false" src="https://resources.finalsite.net/images/f_auto,q_auto,t_image_size_2/v1668104307/stpsborg/nezx0wwcvi1cj3gudxzf/030A9881.jpg">
        </div>
        <div> <!-- Content -->
          <h2>
            Grant Oleksik
          </h2>
          <p>
            <b>Student at Covington High School</b>
          </p>
          <!-- Interests -->
          <div id="interests">
            <h1>Interests</h1>
            <h2>Besides my love for coding and music, I enjoy sports like football, lacrosse, and baseball as well. But recently, I've started to love photography too!</h2>
            
         </div>
         <marquee direction="left">Updates: (UPDATED) Hunt or be Hunted is in full effect and has received MANY updates! Check out in my portfolio NOW! Updates possible! (NEW) Pictures taken! Check them out in IMAGES! (NEW) Spelling Bee app! It's self explanatory </marquee>

         
       </main>
     </div>
     
     <marquee scrollamount="8" class="background" direction="left">COVINGTON HIGH SCHOOL</marquee>

     <audio id="StillFly" src="Background Music(menu)/videoplayback.mp3" autoplay loop></audio>
     <audio id="Sticky" src="Background Music(menu)/videoplayback (1).mp3"></audio>
     <audio id="ToreUp" src="Background Music(menu)/videoplayback (2).mp3"></audio>

     <div class="musicPlayer">
      <h1 class="songName"></h1>
      <h1 style="font-size: 1rem; color: black; position: relative; top: 40%; margin-left: 60px; color: white;">Volume: </h1><input style="margin-left: 30px; position: relative; top: 43%;" min="0" max="10" value="0.4" step="0.2" id="volume-slider" type="range"></input>
      <button class="nextBtn" style="position: relative; left: 40%;">Next</button>
     </div>

     
     
     <!--EQUALIZER (NOT MINE) Yes, I know it's long, shut it...-->

     

<div class="equalizer">
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
</div>

     <script>
      //Music player
      var musicPlayer = document.querySelector(".musicPlayer");
      var songName = document.querySelector(".songName");
      var nextBtn = document.querySelector(".nextBtn");
      var songIndex = 1;
      var StillFly = document.getElementById("StillFly");
      var Sticky = document.getElementById("Sticky");
      var ToreUp = document.getElementById("ToreUp");
      var musicBtn = document.querySelector(".musicBtn");
      var volumeSlider = document.querySelector("#volume-slider");
      var volume = volumeSlider.value / 10;

      StillFly.volume = volume;
      songName.textContent = "Still Fly - Southern Unviersity Marching Band"

      nextBtn.addEventListener("click", () => {
        songIndex++

        console.log(songIndex);

        if(songIndex === 1){
        StillFly.currentTime = 0;
        ToreUp.pause();
        StillFly.play();
        StillFly.volume = volume;
        songName.textContent = "Still Fly - Southern Unviersity Marching Band"
        audio = document.getElementById("StillFly");
      }
      if(songIndex === 2){
        Sticky.currentTime = 0;
        StillFly.pause();
        Sticky.play();
        Sticky.volume = volume;
        songName.textContent = "Sticky(Tyler The Creator) - JSU marching band"
        audio = document.getElementById("Sticky");
      }
      if(songIndex === 3){
        ToreUp.currentTime = 0;
        Sticky.pause();
        ToreUp.play();
        ToreUp.volume = volume;
        songName.textContent = "Tore Up - Norfolk State University"
        audio = document.getElementById("ToreUp");
      }
      if(songIndex === 4){
        StillFly.currentTime = 0;
        ToreUp.pause();
        StillFly.play();
        StillFly.volume = volume;
        songName.textContent = "Still Fly - Southern Unviersity Marching Band"
        audio = document.getElementById("StillFly");
        songIndex = 1;
      }
      })


      volumeSlider.addEventListener("input", () => {
        volume = volumeSlider.value / 10;
        StillFly.volume = volume;
        Sticky.volume = volume;
        ToreUp.volume = volume;
      })

      //Pulse
      var background = document.querySelector(".background");
      background.classList.add("pulse");
      

      //EQUALIZER (NOT MINE, JUST FOR FUN)

      let audio = document.getElementById("StillFly");
  const bars = document.querySelectorAll(".bar");

  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const source = audioCtx.createMediaElementSource(audio);
  const analyser = audioCtx.createAnalyser();

  source.connect(analyser);
  analyser.connect(audioCtx.destination);

  analyser.fftSize = 128; // Lower = fewer bars (more responsive)
  const bufferLength = analyser.frequencyBinCount;
  const dataArray = new Uint8Array(bufferLength);

  function animateEqualizer() {
    requestAnimationFrame(animateEqualizer);

    analyser.getByteFrequencyData(dataArray);

    for (let i = 0; i < bars.length; i++) {
      const barHeight = dataArray[i] / 2;
      bars[i].style.height = `${barHeight}px`;
    }
  }

  // Resume context on user interaction if required
  window.addEventListener("click", () => {
    if (audioCtx.state === "suspended") {
      audioCtx.resume();
    }
  });

  animateEqualizer();

     </script>
   </body>
 </html>  